<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Someone Special â¤ï¸</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
body{background:#000;color:white;overflow:hidden}

/* Slide */
.slide{
    position:absolute;
    width:100%;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    text-align:center;
    padding:20px;
    background:linear-gradient(180deg,#ff4d6d,#ff758c);
    transition:1s cubic-bezier(.4,0,.2,1);
}
.hidden{opacity:0;transform:translateY(100%) scale(.9);pointer-events:none}

h1{font-size:1.9rem;margin-bottom:15px}

.meter{
    width:200px;
    height:10px;
    background:rgba(255,255,255,.3);
    border-radius:10px;
    overflow:hidden;
    margin:10px auto;
}
.fill{
    height:100%;
    width:0%;
    background:white;
    transition:.6s;
}

.reaction{
    font-size:2.6rem;
    animation:bounce 1s infinite;
}
@keyframes bounce{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-12px)}
}

button{
    padding:15px 34px;
    border:none;
    border-radius:40px;
    font-weight:bold;
    margin:10px;
    cursor:pointer;
    font-size:1rem;
    transition:.25s;
}
button:active{transform:scale(.9)}

.yes{
    background:white;
    color:#ff2f68;
    box-shadow:0 0 25px rgba(255,255,255,.8);
}
.no{
    background:rgba(255,255,255,.4);
    color:white;
    position:absolute;
}

.glow{
    animation:glow 1.4s infinite alternate;
}
@keyframes glow{
    from{text-shadow:0 0 10px #fff}
    to{text-shadow:0 0 30px #fff}
}

.heart{
    position:fixed;
    bottom:-10px;
    font-size:22px;
    animation:float 6s linear infinite;
}
@keyframes float{
    from{transform:translateY(0);opacity:1}
    to{transform:translateY(-110vh);opacity:0}
}

.final-img{
    max-width:260px;
    border-radius:22px;
    margin-top:20px;
    animation:zoom 1.2s ease;
}
@keyframes zoom{
    from{transform:scale(.6);opacity:0}
    to{transform:scale(1);opacity:1}
}

.shake{animation:shake .4s}
@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-5px)}
    50%{transform:translateX(5px)}
    75%{transform:translateX(-5px)}
    100%{transform:translateX(0)}
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
    <source src="Leah_Nobel_-_Beginning_Middle_End_(mp3.pm).mp3" type="audio/mpeg">
</audio>

<!-- Slide 1 -->
<div class="slide" id="s1">
    <h1 id="type"></h1>
</div>

<!-- Slide 2 -->
<div class="slide hidden" id="s2">
    <h1>Do you need Bf? ğŸ˜Œ</h1>
    <div class="meter"><div class="fill" id="f1"></div></div>
    <button class="yes" onclick="handleQ1(true)">Yes</button>
    <button class="yes" onclick="handleQ1(false)">No</button>
</div>

<!-- Slide 3 -->
<div class="slide hidden" id="s3">
    <h1>Do you like me? ğŸ¥º</h1>
    <div class="meter"><div class="fill" id="f2"></div></div>
    <button class="yes" onclick="handleQ2(true)">Yes</button>
    <button class="yes" onclick="handleQ2(false)">No</button>
</div>

<!-- Slide 4 (UNCHANGED) -->
<div class="slide hidden" id="s4">
    <h1 class="glow"> Will you be my Valentine? ğŸ’–</h1>
    <div class="meter"><div class="fill" id="f3"></div></div>
    <button class="yes" onclick="celebrate()">YES ğŸ˜</button>
    <button class="no" id="noBtn">No ğŸ™ˆ</button>
</div>

<!-- Final -->
<div class="slide hidden" id="s5">
    <h1 class="glow">Best decision ever ğŸ˜Œâ¤ï¸</h1>
    <img src="image3.jpeg" class="final-img" alt="">
</div>

<script>
const bgMusic=document.getElementById("bgMusic");

function startMusic(){
    bgMusic.volume=0.6;
    bgMusic.play().catch(()=>{});
    document.removeEventListener("click",startMusic);
}
document.addEventListener("click",startMusic);

const text="Heyâ€¦ wait ğŸ˜Œ You unlocked my heart ğŸ”“â¤ï¸";
let i=0;
function type(){
    if(i<text.length){
        document.getElementById("type").innerHTML+=text.charAt(i);
        i++;
        setTimeout(type,65);
    }else{
        setTimeout(()=>go(2),1400);
    }
}
type();

function go(n){
    document.querySelectorAll(".slide").forEach(s=>s.classList.add("hidden"));
    document.getElementById("s"+n).classList.remove("hidden");
}

/* QUESTION 1 */
function handleQ1(answer){
    document.querySelectorAll(".slide").forEach(s=>s.classList.add("hidden"));

    const temp=document.createElement("div");
    temp.className="slide";

    if(answer){
        temp.innerHTML=`
        <div class="reaction">ğŸ¥°</div>
        <h1>I knew it ğŸ˜</h1>`;
        document.getElementById("f1").style.width="40%";
    }else{
        temp.innerHTML=`
        <div class="reaction">ğŸ˜</div>
        <h1>Ohhh reeeyali ğŸ˜Œ</h1>
        <img src="image2.jpeg" class="final-img">`;
        document.getElementById("f1").style.width="10%";
    }

    document.body.appendChild(temp);

    setTimeout(()=>{
        temp.remove();
        go(3);
    },2000);
}

/* QUESTION 2 */
function handleQ2(answer){
    document.querySelectorAll(".slide").forEach(s=>s.classList.add("hidden"));

    const temp=document.createElement("div");
    temp.className="slide";

    if(answer){
        temp.innerHTML=`
        <div class="reaction">ğŸ’ƒ</div>
        <h1>I KNEW IT ğŸ˜â¤ï¸</h1>
        <img src="kanishka.jpeg" class="final-img">`;
        document.getElementById("f2").style.width="70%";
    }else{
        temp.innerHTML=`
        <div class="reaction">ğŸ’”</div>
        <h1>Ohhh reeeyali ğŸ˜Œ</h1>
        <img src="image2.jpeg" class="final-img">`;
        document.getElementById("f2").style.width="40%";
    }

    document.body.appendChild(temp);

    setTimeout(()=>{
        temp.remove();
        go(4);
    },2000);
}

/* THIRD QUESTION UNCHANGED */
const noBtn=document.getElementById("noBtn");
noBtn.addEventListener("mouseover",move);
function move(){
    noBtn.classList.add("shake");
    setTimeout(()=>noBtn.classList.remove("shake"),400);
    noBtn.style.left=Math.random()*80+"vw";
    noBtn.style.top=Math.random()*80+"vh";
}

function celebrate(){
    document.getElementById("f3").style.width="100%";
    go(5);
    confetti();
}

function confetti(){
    for(let i=0;i<140;i++){
        const c=document.createElement("div");
        c.style.position="fixed";
        c.style.width="8px";
        c.style.height="8px";
        c.style.borderRadius="50%";
        c.style.background=`hsl(${Math.random()*360},100%,60%)`;
        c.style.left=Math.random()*100+"vw";
        c.style.top="-10px";
        c.style.transition="2.5s";
        document.body.appendChild(c);
        setTimeout(()=>c.style.top="100vh",50);
        setTimeout(()=>c.remove(),2500);
    }
}

setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.innerHTML="â¤ï¸";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
},600);
</script>

</body>
</html>
